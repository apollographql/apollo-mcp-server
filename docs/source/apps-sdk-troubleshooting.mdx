---
title: MCP Apps Troubleshooting
subtitle: Common issues and solutions
---

## App not appearing in ChatGPT

**Common causes:**
- Missing `?app=app-name` query parameter in URL
- Services not running (GraphQL API, React app, MCP server)
- Invalid manifest or missing required fields

**Solutions:**
- Include app name in URL: `https://your-url/mcp?app=the-store`
- Verify all services are running (if using template)
- Check server logs for app loading errors
- Ensure manifest is valid JSON with required fields (`format`, `version`, `hash`, `resource`, `operations`)

## Manifest errors

**"Failed to parse manifest"**: Validate JSON syntax, ensure required fields are present (`format`, `version`, `hash`, `resource`, `operations`), and check field names are case-sensitive (`prefetchID`, `extraInputs`, `toolInvocation/invoking`).

**"Failed to parse operation"**: Validate GraphQL syntax, ensure operation matches your schema, and verify variable types are correct.

**"Extra input failed to process"**: Ensure `extraInputs` have unique names and don't conflict with GraphQL variable names.

## Resource loading issues

**"Failed to read resource"**: Verify file path in manifest (relative to app directory), ensure file exists, check permissions, and if using template, ensure React app is running.

**Remote resource fails**: Verify URL is accessible, uses HTTPS, CORS is configured if needed, and server can reach the URL.

## CSP violations

**Symptoms**: Resources fail to load, network requests blocked, console CSP errors.

**Solutions**: Configure CSP in manifest with required domains (`connect_domains`, `resource_domains`, `frame_domains`). Ensure domains include protocol (`https://`) and no trailing slashes. List all domains your app needs.

## Tool execution problems

**Tool executes but returns errors**: Verify GraphQL endpoint is correct and accessible, check authentication headers if needed, test operation directly against API, ensure operation matches schema.

**Tool result not accessible**: Use correct paths: `window.toolResult.result.data` for main result, `window.toolResult.prefetch.prefetchID` for prefetch. Check for GraphQL errors in `window.toolResult.result.errors`.

## Hot reload issues

**Changes not reflected**: Verify file is saved, JSON is valid, server is watching apps directory. Restart server if hot reload isn't working.

## Template-specific issues

**React app not building**: Check Node.js v18+, install dependencies, verify build output, ensure dev server is running.

**App query parameter not working**: Ensure app name in URL matches directory name in `apps/`, use format `?app=app-name` (not just `?appTarget=openai`), verify manifest exists.

## Debugging tips

- **Enable debug logging**: Set `logging.level: debug` in config
- **Use MCP Inspector**: Test with `npx @modelcontextprotocol/inspector "http://127.0.0.1:8000/mcp?app=the-store" --transport http` (include app parameter)
- **Check server logs**: Look for app loading messages and errors
- **Validate manifest**: Use `jq` to validate JSON syntax and structure
- **Test GraphQL operations**: Test operations directly against your API

## Getting help

If issues persist: check server logs, validate manifest, test with MCP Inspector, review the [MCP Apps Reference](/apollo-mcp-server/apps-sdk-reference), check [GitHub issues](https://github.com/apollographql/apollo-mcp-server/issues), or join the [Apollo community forums](https://community.apollographql.com/c/mcp-server/41).

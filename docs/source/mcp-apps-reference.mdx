---
title: MCP Apps Reference
subtitle: Key concepts and configuration
---

The manifest file (`.application-manifest.json`) is automatically generated from your app code and `package.json`. Never edit the manifest directly. Instead, make changes to your app code and `package.json`, which will regenerate the manifest.

## App vs Host

This table shows what you work with in your app code versus what the host does:

| In Your App | In the Host |
|-------------|-------------|
| You define your app code and `package.json`, which generates the manifest | The host discovers your app via the MCP protocol and pre-fetches the UI resource |
| You specify the resource URL (your UI) | The host pre-fetches the resource during discovery and creates an iframe when tools are invoked |
| You define tools backed by GraphQL operations | The host invokes tools and receives data from the MCP server |
| You access data via `window.toolResult.result.data` in your UI code | The host injects tool result data into the iframe via `window.toolResult` |

## App-level configuration

Configuration elements defined at the app level (from `package.json`):

| Element | What it is | Mapped from | Maps to (MCP/ChatGPT) | Notes |
|---------|------------|-------------|----------------------|-------|
| **App name** | Identifier for your app | `package.json` | App identifier in MCP tool namespace | Defaults to directory name if not specified |
| **App description** | Description of your app | `package.json` | App metadata visible to the host | Prefixed to tool descriptions |
| **Resource URL** | URL to your UI | `package.json` | UI resource that host pre-fetches during discovery | Can be local file path, built app URL, or remote URL |
| **CSP: connect_domains** | Allowed domains for network requests | `package.json` | Content Security Policy for fetch/XHR/WebSocket | Must include protocol (`https://`) |
| **CSP: resource_domains** | Allowed domains for loading resources | `package.json` | Content Security Policy for images/scripts/stylesheets | Must include protocol (`https://`) |
| **CSP: frame_domains** | Allowed domains for iframe embeds | `package.json` | Content Security Policy for iframe sources | Must include protocol (`https://`) |
| **CSP: redirect_domains** | Allowed domains for redirects | `package.json` | Content Security Policy for redirects (AppsSDK only) | AppsSDK target only |
| **Widget: description** | Widget description | `package.json` | Widget metadata in host UI | AppsSDK target only |
| **Widget: domain** | Domain restriction | `package.json` | Domain validation for widget | Restricts widget to specific domain |
| **Widget: prefersBorder** | Border preference | `package.json` | Visual styling in host UI | Boolean flag for border display |
| **Labels: toolInvocation/invoking** | Message shown when tool starts | `package.json` | User-facing message during tool invocation | Applies to all tools unless overridden |
| **Labels: toolInvocation/invoked** | Message shown when tool completes | `package.json` | User-facing message after tool execution | Applies to all tools unless overridden |

## Operation-level configuration

Configuration elements defined at the operation level (from GraphQL operations):

| Element | What it is | Mapped from | Maps to (MCP/ChatGPT) | Notes |
|---------|------------|-------------|----------------------|-------|
| **Operation body** | GraphQL query or mutation | GraphQL operation definition | GraphQL operation executed by MCP server | Must be valid GraphQL matching your schema |
| **Prefetch ID** | Identifier for prefetch data | Operation definition `prefetchID` field | Data available at `window.toolResult.prefetch.prefetchID` | Operation runs automatically when any tool in app is invoked |

## Tool-level configuration

Configuration elements defined at the tool level (from operation tool definitions):

| Element | What it is | Mapped from | Maps to (MCP/ChatGPT) | Notes |
|---------|------------|-------------|----------------------|-------|
| **Tool name** | Name of the MCP tool | Operation tool definition `name` field | MCP tool name that host can invoke | Must be unique within the app |
| **Tool description** | Description of what the tool does | Operation tool definition `description` field | MCP tool description visible to host | App description is prefixed if present |
| **Extra inputs** | Additional input parameters beyond GraphQL variables | Operation tool definition `extraInputs` array | Additional MCP tool input parameters | Must have unique names, cannot conflict with GraphQL variables |
| **Tool-level labels** | Tool-specific invocation messages | Operation tool definition `labels` field | User-facing messages for this specific tool | Overrides app-level labels for this tool |

## App query parameter

Use the `app` query parameter to specify which app to load: `https://your-server.com/mcp?app=my-app`. The app name corresponds to the directory name in `apps/`.

## App target

Apollo MCP Server supports two targets: **AppsSDK** (default, for hosts supporting OpenAI's Apps SDK specification) and **MCPApps** (for MCP-compatible clients). Use the `appTarget` query parameter to specify the target.

## Next steps

- Follow the [Quickstart guide](/apollo-mcp-server/mcp-apps-quickstart) to build your first app
- Check [Troubleshooting](/apollo-mcp-server/mcp-apps-troubleshooting) for common issues
- Explore the [Apollo AI Apps Template](https://github.com/apollographql/ai-apps-template) for a complete setup

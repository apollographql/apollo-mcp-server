---
title: MCP Apps Reference
subtitle: Key concepts and configuration
---

This reference guide provides a comprehensive overview of MCP Apps configuration elements. Use the tables below to understand what each element is, where it's configured (GraphQL operations come from your app code, while app-level settings come from `package.json`), and how it maps to the MCP/ChatGPT side.

## Manifest file

The manifest file (`.application-manifest.json`) is automatically generated from your app code and `package.json`. GraphQL operations come from your app code, while app-level configuration (like CSP settings, widget settings, and labels) comes from `package.json`.

<warning>
Don't edit the manifest directly. Instead, make changes to your app code (for GraphQL operations) and `package.json` (for app-level configuration). The manifest file generates automatically.
</warning>

## App vs Host

An **app** is your MCP Appâ€”the code, configuration, and UI resource you build that combines GraphQL operations with custom UI. The **host** is the MCP Apps-compatible application (such as ChatGPT) that discovers your app, invokes tools, and displays your UI.

This table shows what you work with in your app code versus what the host does:

| In Your App | In the Host |
|-------------|-------------|
| You define your app code and `package.json`, which generates the manifest | The host discovers your app via the MCP protocol and pre-fetches the UI resource |
| You specify the resource URL (your UI) | The host pre-fetches the resource during discovery and creates an iframe when tools are invoked |
| You define tools backed by GraphQL operations | The host invokes tools and receives data from the MCP server |
| You access data in your UI code | The host injects tool result data into the iframe |

## App-level configuration

Configuration elements defined at the app level (from `package.json`):

| Element | What it is | Where it comes from | Where it maps to | Notes |
|---------|------------|---------------------|------------------|-------|
| `name` | App identifier | `package.json` | MCP tool namespace | Defaults to directory name if not specified |
| `description` | App description | `package.json` | Tool description prefix | Prefixed to tool descriptions |
| `resource` | UI resource URL | `package.json` | Resource URI in manifest | Can be a local built React app or a remotely hosted React app |
| `csp.connectDomains` | Allowed domains for network requests | `package.json` | `openai/widgetCSP.connect_domains` (AppsSDK)<br />`_meta.ui.csp.connectDomains` (MCPApps) | Must include protocol (`https://`) |
| `csp.resourceDomains` | Allowed domains for loading resources | `package.json` | `openai/widgetCSP.resource_domains` (AppsSDK)<br />`_meta.ui.csp.resourceDomains` (MCPApps) | Must include protocol (`https://`) |
| `csp.frameDomains` | Allowed domains for iframe embeds | `package.json` | `openai/widgetCSP.frame_domains` (AppsSDK)<br />`_meta.ui.csp.frameDomains` (MCPApps) | Must include protocol (`https://`) |
| `csp.redirectDomains` | Allowed domains for redirects | `package.json` | `openai/widgetCSP.redirect_domains` (AppsSDK only) | AppsSDK target only |
| `csp.baseUriDomains` | Allowed base URI domains | `package.json` | `_meta.ui.csp.baseUriDomains` (MCPApps only) | MCPApps target only |
| `widgetSettings.description` | Widget description | `package.json` | `openai/widgetDescription` (AppsSDK only) | AppsSDK target only |
| `widgetSettings.domain` | Domain restriction | `package.json` | `openai/widgetDomain` (AppsSDK)<br />`_meta.ui.domain` (MCPApps) | Restricts widget to specific domain |
| `widgetSettings.prefersBorder` | Border preference | `package.json` | `openai/widgetPrefersBorder` (AppsSDK)<br />`_meta.ui.prefersBorder` (MCPApps) | Boolean flag for border display |
| `labels.toolInvocation/invoking` | Message shown when tool starts | `package.json` | `openai/toolInvocation/invoking` (AppsSDK only) | Applies to all tools unless overridden |
| `labels.toolInvocation/invoked` | Message shown when tool completes | `package.json` | `openai/toolInvocation/invoked` (AppsSDK only) | Applies to all tools unless overridden |

## Tool-level configuration

Tools are defined using the `@tool` directive on GraphQL operations in your app code. You can also use the `@prefetch` directive to mark operations that run automatically when any tool is invoked.

| Element | What it is | Where it comes from | Where it maps to | Notes |
|---------|------------|---------------------|------------------|-------|
| `@tool(name: "...", description: "...")` | MCP tool definition | `@tool` directive on GraphQL operation | MCP tool `name` and `description` | Must be unique within the app. App description is prefixed to tool description if present |
| `@prefetch` | Prefetch operation marker | `@prefetch` directive on GraphQL operation | Prefetch operation in manifest | Operation runs automatically when any tool in the app is invoked |

## App query parameter

Use the `app` query parameter to specify which app to load: `https://your-server.com/mcp?app=my-app`. The app name corresponds to the directory name in `apps/`.

## App target

Apollo MCP Server supports two targets: **AppsSDK** (default, for hosts supporting OpenAI's Apps SDK specification) and **MCPApps** (for MCP-compatible clients). Use the `appTarget` query parameter to specify the target.

For AppsSDK (default): `https://your-server.com/mcp?app=my-app&appTarget=openai`

For MCPApps: `https://your-server.com/mcp?app=my-app&appTarget=mcp`


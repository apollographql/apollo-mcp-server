---
title: MCP Apps Reference
subtitle: Key concepts and configuration
---

This reference guide provides a comprehensive overview of MCP Apps configuration elements. Use the tables below to understand what each element is, where it's configured in your app code or `package.json`, and how it maps to the MCP/ChatGPT side.

## Manifest file

The manifest file (`.application-manifest.json`) is automatically generated from your app code and `package.json`. 

<warning>
Never edit the manifest directly. Instead, make changes to your app code and `package.json`, which will regenerate the manifest.
</warning>

## App vs Host

An **app** is your MCP Appâ€”the code, configuration, and UI resource you build that combines GraphQL operations with custom UI. The **host** is the MCP Apps-compatible application (such as ChatGPT) that discovers your app, invokes tools, and displays your UI.

This table shows what you work with in your app code versus what the host does:

| In Your App | In the Host |
|-------------|-------------|
| You define your app code and `package.json`, which generates the manifest | The host discovers your app via the MCP protocol and pre-fetches the UI resource |
| You specify the resource URL (your UI) | The host pre-fetches the resource during discovery and creates an iframe when tools are invoked |
| You define tools backed by GraphQL operations | The host invokes tools and receives data from the MCP server |
| You access data via `window.toolResult.result.data` in your UI code | The host injects tool result data into the iframe via `window.toolResult` |

## App-level configuration

Configuration elements defined at the app level (from `package.json`):

| Element | What it is | Maps to (MCP/ChatGPT) | Notes |
|---------|------------|----------------------|-------|
| **App description** | Description of your app | App metadata visible to the host | Prefixed to tool descriptions |
| **App name** | Identifier for your app | App identifier in MCP tool namespace | Defaults to directory name if not specified |
| **CSP: base_uri_domains** | Allowed base URI domains | Content Security Policy for base URI | Must include protocol (`https://`) |
| **CSP: connect_domains** | Allowed domains for network requests | Content Security Policy for fetch/XHR/WebSocket | Must include protocol (`https://`) |
| **CSP: frame_domains** | Allowed domains for iframe embeds | Content Security Policy for iframe sources | Must include protocol (`https://`) |
| **CSP: redirect_domains** | Allowed domains for redirects | Content Security Policy for redirects (AppsSDK only) | AppsSDK target only |
| **CSP: resource_domains** | Allowed domains for loading resources | Content Security Policy for images/scripts/stylesheets | Must include protocol (`https://`) |
| **Labels: toolInvocation/invoked** | Message shown when tool completes | User-facing message after tool execution | Applies to all tools unless overridden |
| **Labels: toolInvocation/invoking** | Message shown when tool starts | User-facing message during tool invocation | Applies to all tools unless overridden |
| **Resource URL** | URL to your UI | UI resource that host pre-fetches during discovery | Can be local file path, built app URL, or remote URL |
| **Widget: description** | Widget description | Widget metadata in host UI | AppsSDK target only |
| **Widget: domain** | Domain restriction | Domain validation for widget | Restricts widget to specific domain |
| **Widget: prefersBorder** | Border preference | Visual styling in host UI | Boolean flag for border display |

## Operation-level configuration

Configuration elements defined at the operation level (from GraphQL operations):

| Element | What it is | Mapped from | Maps to (MCP/ChatGPT) | Notes |
|---------|------------|-------------|----------------------|-------|
| **Operation body** | GraphQL query or mutation | GraphQL operation definition | GraphQL operation executed by MCP server | Must be valid GraphQL matching your schema |
| **Prefetch ID** | Identifier for prefetch data | Operation definition `prefetchID` field | Data available at `window.toolResult.prefetch.prefetchID` | Operation runs automatically when any tool in app is invoked |

## Tool-level configuration

Configuration elements defined at the tool level (from operation tool definitions):

| Element | What it is | Mapped from | Maps to (MCP/ChatGPT) | Notes |
|---------|------------|-------------|----------------------|-------|
| **Extra inputs** | Additional input parameters beyond GraphQL variables | Operation tool definition `extraInputs` array | Additional MCP tool input parameters | Must have unique names, cannot conflict with GraphQL variables |
| **Tool description** | Description of what the tool does | Operation tool definition `description` field | MCP tool description visible to host | App description is prefixed if present |
| **Tool name** | Name of the MCP tool | Operation tool definition `name` field | MCP tool name that host can invoke | Must be unique within the app |
| **Tool-level labels** | Tool-specific invocation messages | Operation tool definition `labels` field | User-facing messages for this specific tool | Overrides app-level labels for this tool |

## App query parameter

Use the `app` query parameter to specify which app to load: `https://your-server.com/mcp?app=my-app`. The app name corresponds to the directory name in `apps/`.

## App target

Apollo MCP Server supports two targets: **AppsSDK** (default, for hosts supporting OpenAI's Apps SDK specification) and **MCPApps** (for MCP-compatible clients). Use the `appTarget` query parameter to specify the target.

For AppsSDK (default): `https://your-server.com/mcp?app=my-app&appTarget=openai`

For MCPApps: `https://your-server.com/mcp?app=my-app&appTarget=mcp`

